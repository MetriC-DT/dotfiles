#! /bin/sh

pgrep -x sxhkd > /dev/null || sxhkd &

bspc monitor -d 1 2 3 4 5 6 7 8 9 10

bspc config border_width         1
bspc config window_gap           0

bspc config split_ratio          0.50
bspc config borderless_monocle   true
bspc config gapless_monocle      true
bspc config single_monocle       true
bspc config pointer_modifier     mod1

# border colors
bspc config active_border_color '#e9e9e9'
bspc config normal_border_color '#e9e9e9'
bspc config focused_border_color '#0097ff'

# warping mouse cursor
bspc config pointer_follows_monitor true
bspc config pointer_follows_focus true

#bspc rule -a Gimp desktop='^8' state=floating follow=on
#bspc rule -a Chromium desktop='^2'
#bspc rule -a mplayer2 state=floating
#bspc rule -a Kupfer.py focus=on
#bspc rule -a Screenkey manage=off

# window rules
bspc rule -a Zathura state=tiled
bspc rule -a discord state=floating follow=on
bspc rule -a minecraft-launcher state=fullscreen
bspc rule -a 'Minecraft 1.16.3' state=fullscreen
bspc rule -a 'Gimp-2.10' state=floating follow=on
bspc rule -a 'zoom' state=floating desktop='^2' follow=on center=true
bspc rule -a 'Kanaconvert' state=floating follow=on center=true
bspc rule -a 'Anki' state=floating follow=on center=true

# background programs
$HOME/.config/polybar/launch.sh &
killall udiskie
killall nm-applet
killall checkfullscreen.sh
killall feh
killall xwinwrap

udiskie -t &
nm-applet &
pkill dunst &

# set background
feh --bg-scale ~/Pictures/background.png || hsetroot -solid "#edead9" &

# set live background
# xwinwrap -ov -g 1920x1080+0+0 -- mpv -wid WID "$HOME/PATH/TO/VIDEO" \
#    --no-osc \
#    --no-osd-bar \
#    --loop-file \
#    --player-operation-mode=cplayer \
#    --no-audio \
#    --panscan=1.0 \
#    --no-input-default-bindings &

xset s 600 600 # screensaver default 10 mins timeout
$HOME/.config/i3/checkfullscreen.sh & # run script to disable locking if application in full screen

xset r rate 200 25
xinput --set-prop 'pointer:Razer Razer Viper' 'libinput Accel Speed' -0.75
xss-lock -v --transfer-sleep-lock ~/.config/i3/lock.sh
